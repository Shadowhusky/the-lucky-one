(this.webpackJsonpthe_lucky_one=this.webpackJsonpthe_lucky_one||[]).push([[0],{73:function(e,t,n){},74:function(e,t,n){},75:function(e,t,n){},76:function(e,t,n){},83:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),s=n(23),i=n.n(s),o=(n(73),n(74),n(58)),r=n(15),l=n(26),d=(n(75),"the-lucky-one-"),j=n(68),u=(n(76),n(4)),b=n.n(u),O=n(5);var f,h,p,v=function(e){var t=e.className,n=e.text,c=Object(j.a)(e,["className","text"]);return Object(O.jsx)("div",Object(r.a)(Object(r.a)({className:b()(t,"btf-box-container")},c),{},{children:n}))},m=n(90),x=n(91),_=n(65),g=n(87),w=n(89),y=n(66),C=n(88),S=(n(78),[]),k=10,N=.01,z=600,I=1,M=.002,F=[],R=[],V=0,A=k,B={},E=function(){A=k,V=0};var J=function(){var e=Object(c.useState)(!1),t=Object(l.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)([]),i=Object(l.a)(s,2),j=i[0],u=i[1],J=Object(c.useState)(F),L=Object(l.a)(J,2),q=L[0],P=L[1],T=Object(c.useState)(!1),D=Object(l.a)(T,2),W=D[0],X=D[1],G=Object(c.useState)(!1),H=Object(l.a)(G,2),K=H[0],Q=H[1],U=Object(c.useState)(),Y=Object(l.a)(U,2),Z=Y[0],$=Y[1],ee=Object(c.useState)(!1),te=Object(l.a)(ee,2),ne=te[0],ce=te[1],ae=Object(c.useState)(!1),se=Object(l.a)(ae,2),ie=se[0],oe=se[1],re=Object(c.useRef)(null);Object(c.useEffect)((function(){try{var e=localStorage.getItem("the_lucky_one_configs");if(!e)return void $({iniSpeed:k,resistance:N,low_resistance:M,low_resistance_speed:I,loop_before_slow_down:z,draw_list:S});var t=e=JSON.parse(e),n=t.iniSpeed;k=void 0===n?k:n;var c=t.resistance;N=void 0===c?N:c;var a=t.loop_before_slow_down;z=void 0===a?z:a;var s=t.low_resistance_speed;I=void 0===s?I:s;var i=t.low_resistance;M=void 0===i?M:i;var o=t.draw_list;S=void 0===o?S:o,$(e),R=le(10)}catch(r){console.log("Read save user configs error: ",r)}}),[]),Object(c.useLayoutEffect)((function(){return R=le(10),function(){clearInterval(f)}}),[]);var le=function(e){var t=S.length;return Array(e).fill(0).map((function(){var e=Math.floor(Math.random()*t);return S[e]}))},de=Object(c.useMemo)((function(){return R.map((function(e,t){var n=j[t]&&!j[t-1];return Object(O.jsx)(v,{id:"".concat(d,"box-").concat(t),style:{transform:"translateX(".concat(q[t]||0,"px) ").concat(n?ie?"scale(1.5)":"scale(1.1)":"")},className:b()("".concat(d,"box"),n&&"".concat(d,"box-selected"),n&&ie&&"".concat(d,"box-winnner")),text:e},"".concat(d,"box-").concat(t))}))}),[R,q,ie]),je=Object(c.useMemo)((function(){if(Z)return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("div",{children:["iniSpeed:",Object(O.jsx)(g.a,{size:"small",defaultValue:Z.iniSpeed,onChange:function(e){$(Object(r.a)(Object(r.a)({},Z),{},{iniSpeed:e})),k=e}})]}),Object(O.jsxs)("div",{children:["resistance:",Object(O.jsx)(g.a,{size:"small",step:"0.01",defaultValue:Z.resistance,onChange:function(e){$(Object(r.a)(Object(r.a)({},Z),{},{resistance:e})),N=e}})]}),Object(O.jsxs)("div",{children:["loop_before_slow_down:",Object(O.jsx)(g.a,{size:"small",defaultValue:Z.loop_before_slow_down,onChange:function(e){$(Object(r.a)(Object(r.a)({},Z),{},{loop_before_slow_down:e})),z=e}})]}),Object(O.jsxs)("div",{children:["low_resistance_speed:",Object(O.jsx)(g.a,{size:"small",defaultValue:Z.low_resistance_speed,onChange:function(e){$(Object(r.a)(Object(r.a)({},Z),{},{low_resistance_speed:e})),I=e}})]}),Object(O.jsxs)("div",{children:["low_resistance:",Object(O.jsx)(g.a,{size:"small",defaultValue:Z.low_resistance,onChange:function(e){$(Object(r.a)(Object(r.a)({},Z),{},{low_resistance:e})),M=e}})]}),Object(O.jsxs)("div",{children:["Debug mode:",Object(O.jsx)(w.a,{onChange:function(e){return Q(e)}})]})]})}),[Z]),ue=Object(c.useMemo)((function(){if(Z)return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{children:[Object(O.jsx)(g.a,{size:"small",placeholder:0,onChange:function(e){B.start_number=e}}),"-"," ",Object(O.jsx)(g.a,{size:"small",placeholder:0,onChange:function(e){B.end_number=e}})]}),Object(O.jsx)(y.a,{type:"primary",onClick:function(){for(var e=null!==(t=B.start_number)&&void 0!==t?t:0;null!==(n=e<=B.end_number)&&void 0!==n&&n;e++){var t,n;S.push(e)}$(Object(r.a)(Object(r.a)({},Z),{},{draw_list:S}))},children:"Add"})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)(C.a,{size:"small",placeholder:"Enter an item",onChange:function(e){var t=e.target.value;t&&(B.draw_list=t)}}),Object(O.jsx)(y.a,{type:"primary",onClick:function(){S.push(B.draw_list),$(Object(r.a)(Object(r.a)({},Z),{},{draw_list:S}))},children:"Add"})]}),Object(O.jsx)("ul",{children:S.map((function(e,t){return Object(O.jsxs)("span",{children:[e,Object(O.jsx)(y.a,{type:"link",onClick:function(){S=[].concat(Object(o.a)(S.slice(0,t)),Object(o.a)(S.slice(t+1))),$(Object(r.a)(Object(r.a)({},Z),{},{draw_list:S}))},children:"Remove"})]},"draw-list-item".concat(t))}))})]})}),[Z]),be=function(){X(!1),ce(!1)};return Object(O.jsxs)("div",{className:"".concat(d,"container"),children:[Object(O.jsxs)("div",{className:K?"".concat(d,"debug-panel"):void 0,children:[Object(O.jsxs)("span",{children:["loop_count: ",V]}),Object(O.jsxs)("span",{children:["speed: ",A]}),Object(O.jsxs)("span",{children:["iniSpeed: ",k]}),Object(O.jsxs)("span",{children:["resistance: ",N]}),Object(O.jsxs)("span",{children:["loop_before_slow_down: ",z]}),Object(O.jsxs)("span",{children:["low_resistance_speed: ",I]}),Object(O.jsxs)("span",{children:["low_resistance: ",M]})]}),Object(O.jsx)(m.a,{className:"".concat(d,"setting-icon"),onClick:function(){return X(!0)}}),Object(O.jsxs)("div",{className:b()("".concat(d,"setting-panel"),!W&&"".concat(d,"setting-panel-hide"),ne&&"".concat(d,"items-panel")),children:[ne?ue:je,Object(O.jsx)(y.a,{type:"primary",shape:"round",size:"middle",onClick:function(){return ce(!ne)},children:ne?"Config properties":"Config Items"}),Object(O.jsx)(y.a,{type:"primary",shape:"round",size:"middle",onClick:ne?function(){localStorage.setItem("the_lucky_one_configs",JSON.stringify(Z)),be(),_.b.success("Saved"),R=le(10)}:void 0,children:"Save"}),Object(O.jsx)(y.a,{type:"secondary",shape:"round",size:"middle",onClick:be,children:"close"})]}),Object(O.jsxs)("div",{className:b()("".concat(d,"drawer-wrapper"),!n&&"".concat(d,"start-button")),onClick:function(){if(!n){var e,t;if(!(null===(e=R)||void 0===e||null===(t=e.filter((function(e){return e})))||void 0===t?void 0:t.length))return _.b.info("Please add some items first"),void _.b.info("Click on the config icon on the top right to add items");E(),a(!0),setTimeout((function(){z+=Math.floor(100*Math.random()),p=R.map((function(e,t){var n;return null===(n=document.querySelector("#".concat(d,"box-").concat(t)))||void 0===n?void 0:n.offsetLeft})),h=document.querySelector("#".concat(d,"box-0")).clientWidth,f=setInterval((function(){u(R.map((function(e,t){return function(e,t){var n=null===e||void 0===e?void 0:e.getBoundingClientRect(),c=null===t||void 0===t?void 0:t.getBoundingClientRect();if(n&&c)return n.left<c.left&&n.right>c.right}(document.querySelector("#".concat(d,"box-").concat(t)),re.current)})));var e=R.map((function(e,t){var n,c=p[t]+h+(F[t]||0);return c>0?(null!==(n=F[t])&&void 0!==n?n:0)-A:p[9]-p[t]+c-A}));F=e,P(e),++V<z||(A-=A<I?M:N)<=0&&(clearInterval(f),oe(!0))}),5)}),500)}},style:{opacity:W?"0":"1"},children:[Object(O.jsx)("div",{ref:re,className:"".concat(d,"central-line"),style:{opacity:n?"1":"0"}}),Object(O.jsx)(x.a,{className:"".concat(d,"reset-button"),style:{opacity:ie?"1":"0"},onClick:function(){a(!1),oe(!1),E()},children:"Reset"}),n?de:"Start"]}),Object(O.jsx)("span",{className:b()("".concat(d,"icon"),n&&"".concat(d,"icon-hide")),children:"\u221e"})]})};var L=function(){return Object(O.jsx)("div",{className:"App",children:Object(O.jsx)(J,{})})},q=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,92)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),s(e),i(e)}))};i.a.render(Object(O.jsx)(a.a.StrictMode,{children:Object(O.jsx)(L,{})}),document.getElementById("root")),q()}},[[83,1,2]]]);
//# sourceMappingURL=main.c6613567.chunk.js.map